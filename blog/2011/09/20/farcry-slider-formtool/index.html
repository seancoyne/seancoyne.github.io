
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>FarCry Slider Formtool - n42 Designs</title>
  <meta name="author" content="Sean Coyne">

  
  <meta name="description" content="I posted this on the farcry-dev mailing list but thought I would post it here as well to help future googlers in need. I have created a slider &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.n42designs.com/blog/2011/09/20/farcry-slider-formtool">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="n42 Designs" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-298339-1', 'auto');
ga('require', 'linkid', 'linkid.js');
ga('require', 'displayfeatures');
ga('send', 'pageview');
</script>
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/"><img src="/images/logo-324x40-white.png" alt="n42 Designs"></a></h1>
  
    <h2>Custom Web Development</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="/search" method="get">
  <fieldset role="search">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About n42 Designs</a></li>
  <li><a href="/contact">Contact Us</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">FarCry Slider Formtool</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-09-20T21:37:00-04:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>9:37 pm</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://blog.n42designs.com">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I posted this on the <a href="https://groups.google.com/group/farcry-dev">farcry-dev</a> mailing list but thought I would post it here as well to help future googlers in need.</p>

<p>I have created a slider formtool for a client and thought it could be useful to others in the community. You can find the source for it here: <a href="https://gist.github.com/1230366">https://gist.github.com/1230366</a></p>

<!-- more -->




<div><script src='https://gist.github.com/1230366.js'></script>
<noscript><pre><code>&lt;cfcomponent extends=&quot;farcry.core.packages.formtools.numeric&quot; name=&quot;slider&quot; displayname=&quot;slider&quot; hint=&quot;Field component to display a slider&quot;&gt;

    &lt;cfproperty name=&quot;ftMin&quot; required=&quot;false&quot; type=&quot;numeric&quot; default=&quot;0&quot; hint=&quot;The minimum value of the slider.&quot; /&gt;
    &lt;cfproperty name=&quot;ftMax&quot; required=&quot;false&quot; type=&quot;numeric&quot; default=&quot;10&quot; hint=&quot;The maximum value of the slider.&quot; /&gt;
    &lt;cfproperty name=&quot;ftStep&quot; required=&quot;false&quot; type=&quot;numeric&quot; default=&quot;1&quot; hint=&quot;Determines the size or amount of each interval or step the slider takes between min and max. The full specified value range of the slider (max - min) needs to be evenly divisible by the step.&quot; /&gt;
    &lt;cfproperty name=&quot;ftOrientation&quot; required=&quot;false&quot; type=&quot;string&quot; default=&quot;horizontal&quot; options=&quot;horizontal,vertical&quot; hint=&quot;This option determines whether the slider has the min at the left, the max at the right or the min at the bottom, the max at the top. Possible values: &#39;horizontal&#39;, &#39;vertical&#39;.&quot; /&gt;
    
    &lt;cffunction name=&quot;edit&quot; access=&quot;public&quot; output=&quot;true&quot; returntype=&quot;string&quot; hint=&quot;his will return a string of formatted HTML text to enable the user to edit the data&quot;&gt;
        &lt;cfargument name=&quot;typename&quot; required=&quot;true&quot; type=&quot;string&quot; hint=&quot;The name of the type that this field is part of.&quot;&gt;
        &lt;cfargument name=&quot;stObject&quot; required=&quot;true&quot; type=&quot;struct&quot; hint=&quot;The object of the record that this field is part of.&quot;&gt;
        &lt;cfargument name=&quot;stMetadata&quot; required=&quot;true&quot; type=&quot;struct&quot; hint=&quot;This is the metadata that is either setup as part of the type.cfc or overridden when calling ft:object by using the stMetadata argument.&quot;&gt;
        &lt;cfargument name=&quot;fieldname&quot; required=&quot;true&quot; type=&quot;string&quot; hint=&quot;This is the name that will be used for the form field. It includes the prefix that will be used by ft:processform.&quot;&gt;
        
        &lt;cfset var html = &quot;&quot; /&gt;
        
        &lt;cfparam name=&quot;arguments.stMetadata.ftMin&quot; default=&quot;0&quot; /&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftMax&quot; default=&quot;10&quot; /&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftStep&quot; default=&quot;1&quot; /&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftOrientation&quot; default=&quot;horizontal&quot; /&gt;
        
        &lt;!--- metadata inherited from numeric formtool ---&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftIncludeDecimal&quot; default=&quot;false&quot;&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftCurrencySymbol&quot; default=&quot;&quot;&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftPrefix&quot; default=&quot;&quot;&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftSuffix&quot; default=&quot;&quot;&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftMask&quot; default=&quot;&quot;&gt;
        
        &lt;!--- format the value (same as numeric formtool) ---&gt;
        &lt;cfif len(arguments.stMetadata.ftMask)&gt;
            &lt;cfset arguments.stMetadata.value = trim(NumberFormat(arguments.stMetadata.value, arguments.stMetadata.ftMask))&gt;
        &lt;cfelse&gt;
            &lt;!--- This is for legacy. You should use just ftPrefix and ftSuffix ---&gt;
            &lt;cfif len(arguments.stMetadata.ftCurrencySymbol)&gt;
                &lt;cfset arguments.stMetadata.ftPrefix = arguments.stMetadata.ftCurrencySymbol /&gt;
            &lt;/cfif&gt;

            &lt;cfif stMetadata.ftIncludeDecimal&gt;
                &lt;cfset arguments.stMetadata.value = DecimalFormat(arguments.stMetadata.value)&gt;
            &lt;cfelse&gt;
                &lt;cfset arguments.stMetadata.value = NumberFormat(arguments.stMetadata.value)&gt;
            &lt;/cfif&gt;
        &lt;/cfif&gt;
        
        &lt;cfimport taglib=&quot;/farcry/core/tags/webskin&quot; prefix=&quot;skin&quot; /&gt;
        
        &lt;skin:loadJs id=&quot;jquery&quot; /&gt;
        &lt;skin:loadJs id=&quot;jquery-ui&quot; /&gt;
        &lt;skin:loadCss id=&quot;jquery-ui&quot; /&gt;
        
        &lt;skin:onReady&gt;
            &lt;cfoutput&gt;
            jQuery(&quot;###arguments.fieldname#-slider&quot;).slider({
                min: #arguments.stMetadata.ftMin#,
                max: #arguments.stMetadata.ftMax#,
                step: #arguments.stMetadata.ftStep#,
                value: #reReplace(arguments.stMetadata.value, &quot;[^0-9.\-]&quot;, &quot;&quot;, &quot;ALL&quot;)#,
                orientation: &#39;#arguments.stMetadata.ftOrientation#&#39;,
                slide: function (event, ui) {
                    jQuery(&quot;###arguments.fieldname#&quot;).val(&#39;#jsStringFormat(arguments.stMetadata.ftPrefix)#&#39; + ui.value + &#39;#jsStringFormat(arguments.stMetadata.ftSuffix)#&#39;);
                } 
            });
            jQuery(&quot;###arguments.fieldname#&quot;).keyup(function(event){
                var thisVal = jQuery(this).val().replace(/[^0-9.\-]/g,&#39;&#39;);
                var thisFormattedVal = &#39;#jsStringFormat(arguments.stMetadata.ftPrefix)#&#39; + thisVal + &#39;#jsStringFormat(arguments.stMetadata.ftSuffix)#&#39;;
                var maxFormattedVal = &#39;#jsStringFormat(arguments.stMetadata.ftPrefix)#&#39; + #arguments.stMetadata.ftMax# + &#39;#jsStringFormat(arguments.stMetadata.ftSuffix)#&#39;;
                var minFormattedVal = &#39;#jsStringFormat(arguments.stMetadata.ftPrefix)#&#39; + #arguments.stMetadata.ftMin# + &#39;#jsStringFormat(arguments.stMetadata.ftSuffix)#&#39;;
                
                jQuery(this).val(thisFormattedVal);
                
                if (thisVal &gt;= #arguments.stMetadata.ftMin# &amp;&amp; thisVal &lt;= #arguments.stMetadata.ftMax#) {
                    
                    // good value, set the slider value
                    jQuery(&quot;###arguments.fieldname#-slider&quot;).slider(&quot;value&quot;, thisVal);
                    
                } else if (thisVal &gt; #arguments.stMetadata.ftMax#) {
                
                    // too high, set it to the maximum value
                    jQuery(&quot;###arguments.fieldname#-slider&quot;).slider(&quot;value&quot;, thisVal);
                    jQuery(this).val(maxFormattedVal);
                    
                } else if (thisVal &lt; #arguments.stMetadata.ftMin#) {
                    
                    // too low, set it to the minimum value
                    jQuery(&quot;###arguments.fieldname#-slider&quot;).slider(&quot;value&quot;, thisVal);
                    jQuery(this).val(minFormattedVal);
                    
                }
            });
            &lt;/cfoutput&gt;
        &lt;/skin:onReady&gt;
        
        &lt;cfsavecontent variable=&quot;html&quot;&gt;
            &lt;cfoutput&gt;
                &lt;div class=&quot;multiField&quot;&gt;
                    &lt;div class=&quot;sliderInput&quot; style=&quot;margin-bottom: 10px;&quot;&gt;
                        &lt;div id=&quot;#arguments.fieldname#-slider&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                    #super.edit(argumentCollection = arguments)#
                &lt;/div&gt;
            &lt;/cfoutput&gt;
        &lt;/cfsavecontent&gt;
        
        &lt;cfreturn html /&gt;
    &lt;/cffunction&gt;
    
    &lt;cffunction name=&quot;validate&quot; access=&quot;public&quot; output=&quot;true&quot; returntype=&quot;struct&quot; hint=&quot;This will return a struct with bSuccess and stError&quot;&gt;
        &lt;cfargument name=&quot;objectid&quot; required=&quot;true&quot; type=&quot;string&quot; hint=&quot;The objectid of the object that this field is part of.&quot;&gt;
        &lt;cfargument name=&quot;typename&quot; required=&quot;true&quot; type=&quot;string&quot; hint=&quot;The name of the type that this field is part of.&quot;&gt;
        &lt;cfargument name=&quot;stFieldPost&quot; required=&quot;true&quot; type=&quot;struct&quot; hint=&quot;The fields that are relevent to this field type.&quot;&gt;
        &lt;cfargument name=&quot;stMetadata&quot; required=&quot;true&quot; type=&quot;struct&quot; hint=&quot;This is the metadata that is either setup as part of the type.cfc or overridden when calling ft:object by using the stMetadata argument.&quot;&gt;
        
        &lt;cfset var stResult = super.validate(argumentCollection = arguments) /&gt;
        
        &lt;cfparam name=&quot;arguments.stMetadata.ftMin&quot; default=&quot;0&quot; /&gt;
        &lt;cfparam name=&quot;arguments.stMetadata.ftMax&quot; default=&quot;10&quot; /&gt;
        
        &lt;!--- if its required, make sure we have a value ---&gt;
        
        &lt;cfif structKeyExists(arguments.stMetadata, &quot;ftValidation&quot;) AND listFindNoCase(arguments.stMetadata.ftValidation, &quot;required&quot;) AND NOT len(trim(stFieldPost.Value))&gt;
            &lt;cfset stResult = failed(value = stResult.value, message = &quot;This is a required field.&quot;) /&gt;
        &lt;/cfif&gt;
        
        &lt;!--- ensure value is within range ---&gt;
        
        &lt;cfif stResult.value lt arguments.stMetadata.ftMin&gt;
            &lt;cfset stResult = failed(value = stResult.value, message = &quot;Value must be greater than #arguments.stMetadata.ftMin#&quot;) /&gt;
        &lt;/cfif&gt;
        
        &lt;cfif stResult.value gt arguments.stMetadata.ftMax&gt;
            &lt;cfset stResult = failed(value = stResult.value, message = &quot;Value must be less than #arguments.stMetadata.ftMax#&quot;) /&gt;
        &lt;/cfif&gt;
        
        &lt;cfreturn stResult /&gt;
        
    &lt;/cffunction&gt;
    
&lt;/cfcomponent&gt; </code></pre></noscript></div>


<p>To use, simply download the CFC, and place it in your project&rsquo;s <code>/farcry/projects/projectname/packages/formtools</code> directory. Once there, you specify the metadata in your custom types as you would use any other formtool.</p>

<div><script src='https://gist.github.com/8810243.js'></script>
<noscript><pre><code>&lt;cfproperty ftLabel=&quot;Num. of Apples&quot; name=&quot;numApples&quot; type=&quot;integer&quot; ftType=&quot;slider&quot; ftMin=&quot;1&quot; ftMax=&quot;100&quot; ftStep=&quot;1&quot; ftOrientation=&quot;horiztonal&quot; /&gt;</code></pre></noscript></div>


<p>The formtool is an extension of the numeric formtool found in core, so you can use any of the features found from that formtool in the slider (<code>ftPrefix</code>, <code>ftSuffix</code>, etc).</p>

<p>The slider formtool adds 4 new metadata options. <code>ftMin</code>, <code>ftMax</code>, <code>ftStep</code>, and <code>ftOrientation</code>. Min and Max are the lowest and highest values allowed for the field. <code>ftStep</code> is the increment factor the slider will use. If you specify one, each slide of the slider will move the value by 1, if you specify 0.5, it will increment it by 0.5 (1, 1.5, 2, etc). <code>ftOrientation</code> can be either &ldquo;horizontal&rdquo; or &ldquo;vertical&rdquo; and it will orient the slider either horizontally or vertically.</p>

<p>Your users can either type a value into the text box or use the slider to select a value.</p>

<p>This uses the <a href="http://jqueryui.com/demos/slider/">jQuery UI Slider widget</a> so you can use it with FarCry 6+ since core ships with jQuery UI built in.</p>

<p>If you find it useful, missing a feature, broken, etc please let me know. Consider it released under a &ldquo;do whatever you want with it&rdquo; license.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Sean Coyne</span></span>

      




<time class='entry-date' datetime='2011-09-20T21:37:00-04:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>9:37 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/coldfusion/'>coldfusion</a>, <a class='category' href='/blog/categories/farcry/'>farcry</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.n42designs.com/blog/2011/09/20/farcry-slider-formtool/" data-via="nickel4242" data-counturl="http://blog.n42designs.com/blog/2011/09/20/farcry-slider-formtool/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/08/08/farcry-youtube-plugin/" title="Previous Post: FarCry YouTube Plugin">&laquo; FarCry YouTube Plugin</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/02/12/github-gist-renderer-for-blogcfc/" title="Next Post: Github Gist renderer for BlogCFC">Github Gist renderer for BlogCFC &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/10/23/compiling-mod-perl-for-apache-2-dot-4-on-os-x-10-dot-10-yosemite/">Compiling Mod_perl for Apache 2.4 on OS X 10.10 Yosemite</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/13/coldfusion-9-and-modjrun-on-mac-os-x-yosemite-with-apache-24/">ColdFusion 9 and Mod_jrun on Mac OS X Yosemite With Apache 2.4</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/23/running-coldfusion-10-on-os-x-mavericks/">Running ColdFusion 10 on OS X Mavericks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/10/farcry-less-plugin/">FarCry LESS Plugin</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/05/farcry-solr-pro/">FarCry Solr Pro</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/seancoyne">@seancoyne</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'seancoyne',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/+SeanCoyne?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Sean Coyne -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'n42designs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.n42designs.com/blog/2011/09/20/farcry-slider-formtool/';
        var disqus_url = 'http://blog.n42designs.com/blog/2011/09/20/farcry-slider-formtool/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
